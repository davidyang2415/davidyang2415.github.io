---
layout: post
title: Java语法之基础语法
categories:
- Programming Language
tags:
- Java
---

## 类型系统
### 存储管理
- 存储位置
	- 寄存器：物理机器部件，不可直接操纵(C++可通过关键字建议使用寄存器)
	- 堆栈：位于通用RAM中，分配在堆栈中的项都具有确切的生命周期
	- 堆：位于通用RAM中，通过new操作符分配空间并由垃圾回收回收空间，堆上分配的对象存活时间更长
	- 常量存储：直接存放在程序代码内部
	- 非RAM存储：流对象、持久化对象等，完全存活于程序之外
- 内存操纵
	- 直接操纵内存：如基本类型，变量对应着内存地址，对基本类型变量的操作就是直接更改内存值
	- 间接操纵内存：用引用操纵对象，引用变量和对象是两个内存值：
		- 引用变量：定义在堆栈中，有作用域限制，可通过赋值更改引用变量的值--即引用变量关联的对象
		- 对象：通过new创建，由垃圾回收自动清理，分配在堆空间中，通过对象的方法可以更新对象的状态

### 变量与常量
- 标识符
	- java是大小写敏感的语言
	- 命名规则：字母、数字、下划线和美元符号($)组成，不能以数字开头
	- 关键字与保留字：都是java系统定义的标识符，具有特定含义，被系统占用
- 变量和常量
	- 变量和常量，是有名字的内存空间，类型决定了内存的大小和内容，定义位置决定了生命周期和可见性
	- 字面常量：代码中直接书写的数字、字符串和布尔值true/false都是字面值常量
	- 变量是内容可变的，如直接更改基本类型值或更改引用关系
	- 常量是内容不可变的，在初始化后就不能更改
	- 变量与常量的属性：static属性，volatile属性
- 作用域
	- 作用域决定了变量的生命周期和可见性
	- 基本类型和引用变量出了作用域就会被销毁掉，同时会解除引用变量和对象间的绑定关系
	- 对象不受限于作用域，当没有任何引用变量绑定到对象上时，对象就会被垃圾回收销毁

### 基本类型
- 布尔类型：boolean(1-byte)，默认false
- 字符类型：char(2-byte)，默认值'\u0000'
- 整数类型：byte(1-byte),short(2-byte),int(4-byte),long(8-byte)
- 浮点数类型：float(4-byte),double(8-byte)
- 特殊类型：void(空返回值),null(空引用)
- 基本类型对应对象类型：
	- Boolean,Character,Byte,Short,Integer,Long,Float,Double,Void
	- 基本类型与对应的对象类型之间可进行自动的装包与拆包转换操作
	- 同时对象类型也提供了适用该基本类型的常用操作
- 所有数值类型都有正负号，即没有无符号整数类型
- boolean只能够取字面值true和false，即其他类型不能够当布尔类型适用
- 高精度数字：BigInteger和BigDecimal

### 引用类型
- 字符串
	- String类
		- String具有不可变性，即只读特性
		- 支持重载操作符"+"
	- 可变字符串：StringBuilder,StringBuffer
	- 常用字符串操作包括：格式化字符串，正则表达式
- 数组
	- 相同类型的、用一个标识符名称封装到一起的一个对象序列或基本类型数据序列
	- 安全性：创建时提供默认值，提供下标越界检查
	- 定义：int array[];或int[] array，定义时不允许指定数组大小;
	- 初始化：
		- int[] array = {1,2,3,4,5,}; -- 初始化表达式
		- int[] array = new int[5];
		- Integer[] array = new Integer[]{new Integer(1),2,};
		- 使用初始化表达式时，初始化列表中最后的逗号是可选的
	- 初始化是为数组在堆中分配空间，该空间内存全部置零
		- 基本类型元素，数值类型为0，char为'\u0000',boolean为false
		- 类对象元素，初始化为null
	- 内存分配：
		- 数组标识符：定义在堆栈中，指向堆中分配的数组空间；
		- 真实数组：在堆中分配的数组空间只包含基本类型和对象引用；
		- 数组元素对象：存放在堆中，通过数组空间的对象引用来关联；
	- 数组操作：
		- 基本操作：下标访问，length属性
		- 在Arrays类中提供了数组的操作集合
	- 多维数组
	- 数组与泛型通常不能很好地结合
	- 数组的拷贝问题：浅拷贝和深拷贝
- 枚举类型
	- 性质：创建enum时，编译器会生成一个相关的类，该类继承自java.lang.Enum
	- 定义：enum EnumName{FIRST_NAME,SECOND_NAME};
	- 操作：
		- element.ordinal():枚举成员element在枚举定义中声明的顺序
	- 引用：
		- 常用于switch选择
- 类类型
	- java是面向对象语言
	- 所有类都有一个祖先基类object类
	- 具体语法见[面向对象]部分

## 语句和语句块
- 语句：
	- 以分号(;)结尾的代码段就是一个语句，空语句是内容为空并以分号结尾的语句
	- 可通过符号\来将一个长代码段写在多行
- 语句块：
	- 大括号包含的多个语句作为一个语句块，如果语句数量为零则是空语句块
- 语句块中的变量都是具有作用域的

## 操作符
- 数字表示
	- 常量后缀：指明数字的类型－－大小写的L表示long，F/f表示float，D/d表示double
	- 常量前缀：表示数字进制：0x/0X表示十六进制，0表示八进制
	- 指数记数法：使用e/E表示
- 操作符优先级
	- 优先级决定操作符计算顺序
	- 可通过括号来明确规定计算顺序
- 操作符支持一定的缩写格式，如+=,-=,<<=等形式

### 常规操作符
- 赋值操作符
	- 基本类型的赋值操作，直接复制内容
	- 对象引用的赋值操作，复制的是对对象的引用关系
	- 方法传参的方式：基本类型的传值，对象传引用，所以不能通过基本类型从方法返回值
- 算术操作符
	- 操作符：加(+)减(-)乘(*)除(/)，取模(%)，其中除法是整数除法
	- 一元操作符：一元加号(+)，一元减号(-)
	- 自动递增与递减：前缀式－－先运算再返回值，后缀式－－先返回值再运算
- 关系操作符
	- 操作符：小于(<)大于(>)小于等于(<=)大于等于(>=)等于(==)不等于(!=)
	- 对象的等值比较：==和!=判断的式比较的两个引用是否引用的同一个对象，对象值比较可通过对象的equals()方法实现
- 逻辑操作符
	- 操作符：与(&&)或(||)非(!)
	- 短路：与操作、或操作都支持短路－－即通过第一个操作数就可判断真假值时不再计算第二个操作数
- 位运算操作符
	- 操作对象：整数基本数据类型
	- 位运算操作符：与(&)或(|)异或(^)非(~)
		- 除了非(~)之外三个操作符也可用于布尔值，但是没有短路功能
	- 移位操作符：左移(<<)有符号右移(>>)无符号右移(>>>)
- 三元操作符：？：
	- 使用时要考虑书写的简便性与程序的可读性之间的权衡
- 字符串操作符
	- java使用加号(+/+=)表示字符串的连接操作，同时表达式中其他的非字符串操作数都转换为字符串输出
	- 转换非字符串操作数时，第一个操作数不要求必须是字符串，同时布尔值直接转换为true/false字符串

### 类型转换操作符
- 类型转换：隐式类型转换、显式类型转换和潜质类型转换
- 操作符：将转换为的类型放入括号中，放置于被转换值之前(即左边)
- 类型转换方式：窄化转换(截取被转换值)和扩展转换

## 流程控制
### 条件流程
- if-else
	- if,if-else,if-else-if-else
- switch
	- switch-case-break-default形式
	- 条件表达式必须是int或char的整数值
	
### 迭代(循环)流程
- while
- do-while
	- 相比while至少执行一次循环体
- for
	- 初始化部分定义的变量的作用域只在for循环体内
	- for循环控制表达式中可以使用逗号操作符－－java中逗号操作符唯一用到的地方
- foreach
	- 作用域任何Iterable对象，常用语数组和容器
	- 语法：foreach(type var:objects){}

### 中断流程
- return
	- 作用：函数返回值，中断流程
- break
	- 跳出当前所在的循环
- continue
	- 跳过当前循环的本次执行
- 替代goto的标签语法
	- 标签，是后面跟冒号的标识符，唯一起作用的地方是在迭代语句之前
	- break label:跳出label标签标识的循环
	- continue label:跳过label标签标识的循环的本次执行